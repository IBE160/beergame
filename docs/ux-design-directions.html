<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beer Game - Application Mockups</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        'mono-bg': '#1A1A1A',
                        'mono-surface': '#2C2C2C',
                        'mono-text': '#E0E0E0',
                        'mono-light': '#808080',
                        'accent': '#8B5CF6', // Default accent
                    },
                    fontFamily: {
                        sans: ["Inter", "system-ui", "-apple-system", "BlinkMacSystemFont", "Segoe UI", "sans-serif"],
                        mono: ["Roboto Mono", "monospace"],
                    },
                },
            },
        };
    </script>
    <style>
        body {
            font-family: var(--font-sans);
            background-color: #1A1A1A;
            color: #E0E0E0;
        }
        .main-menu a.active {
            background-color: #8B5CF6;
            color: #1A1A1A;
        }
        .main-menu a.active .material-symbols-outlined {
            color: #1A1A1A;
        }
    </style>
</head>
<body class="flex flex-col h-screen antialiased font-sans">

    <!-- Top Menu Bar - always visible -->
    <header class="h-16 bg-mono-surface border-b border-mono-light/20 flex items-center px-4 flex-shrink-0">
        <button id="sidebar-toggle" class="p-2 rounded-md hover:bg-mono-light/10 text-mono-text">
            <span class="material-symbols-outlined">menu</span>
        </button>
    </header>

    <!-- Main container -->
    <div class="flex flex-1 overflow-hidden">
        <!-- Backdrop for mobile -->
        <div id="sidebar-backdrop" class="hidden fixed inset-0 bg-black/50 z-40 lg:hidden"></div>

        <!-- Sidebar Menu -->
        <aside id="sidebar" class="fixed lg:static inset-y-0 left-0 z-50 lg:z-auto w-72 bg-mono-surface flex-shrink-0 flex flex-col border-r border-mono-light/20 transform -translate-x-full lg:translate-x-0 lg:transform-none transition-all duration-300 ease-in-out">
        <div class="h-16 flex items-center justify-center border-b border-mono-light/20 px-4">
            <h1 class="text-xl font-bold text-accent">Application Pages</h1>
        </div>
        <nav class="flex-1 p-4 space-y-2 overflow-y-auto main-menu">
            <h2 class="px-3 pt-2 pb-1 text-xs font-semibold text-mono-light uppercase tracking-wider">Game Boards</h2>
            <a href="./wireframe/common-layout.html" data-hash="common-layout" target="mockup-frame" class="flex items-center p-3 rounded-md text-mono-text hover:bg-mono-light/10 transition-colors">
                <span class="material-symbols-outlined mr-3 text-blue-400">dashboard_customize</span>
                Common Game Layout
            </a>
            <a href="./wireframe/retailer-game-board-beergame.html" data-hash="retailer-dashboard" target="mockup-frame" class="flex items-center p-3 rounded-md text-mono-text hover:bg-mono-light/10 transition-colors">
                <span class="material-symbols-outlined mr-3 text-yellow-400">storefront</span>
                Retailer Dashboard
            </a>
            <a href="./wireframe/wholesaler-game-board-beergame.html" data-hash="wholesaler-dashboard" target="mockup-frame" class="flex items-center p-3 rounded-md text-mono-text hover:bg-mono-light/10 transition-colors">
                <span class="material-symbols-outlined mr-3 text-green-400">warehouse</span>
                Wholesaler Dashboard
            </a>
            <a href="./wireframe/distributor-game-board-beergame.html" data-hash="distributor-dashboard" target="mockup-frame" class="flex items-center p-3 rounded-md text-mono-text hover:bg-mono-light/10 transition-colors">
                <span class="material-symbols-outlined mr-3 text-purple-400">local_shipping</span>
                Distributor Dashboard
            </a>
            <a href="./wireframe/factory-game-board-beergame.html" data-hash="factory-dashboard" target="mockup-frame" class="flex items-center p-3 rounded-md text-mono-text hover:bg-mono-light/10 transition-colors">
                <span class="material-symbols-outlined mr-3 text-orange-400">factory</span>
                Factory Dashboard
            </a>
            <a href="./wireframe/All-game-board-beergame.html" data-hash="all-game-boards" target="mockup-frame" class="flex items-center p-3 rounded-md text-mono-text hover:bg-mono-light/10 transition-colors">
                <span class="material-symbols-outlined mr-3 text-cyan-400">grid_view</span>
                All Game Boards
            </a>

            <!-- Future pages will be added here -->
            <h2 class="px-3 pt-4 pb-1 text-xs font-semibold text-mono-light uppercase tracking-wider">Instructor Pages</h2>
             <a href="#" class="flex items-center p-3 rounded-md text-mono-light/50 cursor-not-allowed">
                <span class="material-symbols-outlined mr-3">monitor</span>
                Monitoring Dashboard
            </a>
             <a href="#" class="flex items-center p-3 rounded-md text-mono-light/50 cursor-not-allowed">
                <span class="material-symbols-outlined mr-3">school</span>
                Class Management
            </a>

            <h2 class="px-3 pt-4 pb-1 text-xs font-semibold text-mono-light uppercase tracking-wider">General Pages</h2>
             <a href="#" class="flex items-center p-3 rounded-md text-mono-light/50 cursor-not-allowed">
                <span class="material-symbols-outlined mr-3">login</span>
                Login & Registration
            </a>
        </nav>
    </aside>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col">
            <div class="flex-1 bg-mono-bg">
                <iframe name="mockup-frame" class="w-full h-full border-0" src="./wireframe/common-layout.html"></iframe>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuLinks = document.querySelectorAll('.main-menu a[data-hash]');
            const iframe = document.querySelector('iframe[name="mockup-frame"]');

            // Sidebar toggle functionality
            const sidebarToggle = document.getElementById('sidebar-toggle');
            const sidebar = document.getElementById('sidebar');
            const backdrop = document.getElementById('sidebar-backdrop');
            const lgBreakpoint = 1024;

            function isDesktop() {
                return window.innerWidth >= lgBreakpoint;
            }

            function openSidebar() {
                if (isDesktop()) {
                    // Desktop: show sidebar by resetting width
                    sidebar.classList.remove('lg:w-0', 'lg:overflow-hidden');
                    sidebar.classList.add('lg:w-72');
                } else {
                    // Mobile: slide in overlay
                    sidebar.classList.remove('-translate-x-full');
                    sidebar.classList.add('translate-x-0');
                    backdrop.classList.remove('hidden');
                }
            }

            function closeSidebar() {
                if (isDesktop()) {
                    // Desktop: hide sidebar by collapsing width
                    sidebar.classList.remove('lg:w-72');
                    sidebar.classList.add('lg:w-0', 'lg:overflow-hidden');
                } else {
                    // Mobile: slide out overlay
                    sidebar.classList.add('-translate-x-full');
                    sidebar.classList.remove('translate-x-0');
                    backdrop.classList.add('hidden');
                }
            }

            function isSidebarOpen() {
                if (isDesktop()) {
                    return !sidebar.classList.contains('lg:w-0');
                } else {
                    return !sidebar.classList.contains('-translate-x-full');
                }
            }

            sidebarToggle.addEventListener('click', () => {
                if (isSidebarOpen()) {
                    closeSidebar();
                } else {
                    openSidebar();
                }
            });

            backdrop.addEventListener('click', closeSidebar);

            // Handle resize: sync state between mobile/desktop modes
            window.addEventListener('resize', () => {
                if (isDesktop()) {
                    // On desktop, hide backdrop and reset mobile translate
                    backdrop.classList.add('hidden');
                }
            });

            // Function to load page based on hash
            function loadPageFromHash(hash) {
                const targetLink = document.querySelector(`.main-menu a[data-hash="${hash}"]`);
                if (targetLink) {
                    const href = targetLink.getAttribute('href');
                    iframe.src = href;

                    // Update active state
                    menuLinks.forEach(l => l.classList.remove('active'));
                    targetLink.classList.add('active');
                }
            }

            // Function to get current hash without the # symbol
            function getCurrentHash() {
                return window.location.hash.slice(1);
            }

            // Handle click on menu links
            menuLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault();
                    const hash = link.getAttribute('data-hash');
                    if (hash) {
                        window.location.hash = hash;
                    }
                });
            });

            // Handle disabled links (no data-hash)
            document.querySelectorAll('.main-menu a:not([data-hash])').forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault();
                });
            });

            // Handle hash change (back/forward navigation)
            window.addEventListener('hashchange', () => {
                const hash = getCurrentHash();
                if (hash) {
                    loadPageFromHash(hash);
                }
            });

            // Initial load: check for existing hash or set default
            const initialHash = getCurrentHash();
            if (initialHash) {
                loadPageFromHash(initialHash);
            } else {
                // Set default hash to first available page
                const firstLink = menuLinks[0];
                if (firstLink) {
                    const defaultHash = firstLink.getAttribute('data-hash');
                    window.location.hash = defaultHash;
                }
            }
        });
    </script>

</body>
</html>