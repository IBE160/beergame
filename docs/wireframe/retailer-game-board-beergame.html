<!DOCTYPE html>
<html class="" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Beer Game - Retailer Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>

<!-- React & Recharts Dependencies -->
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/prop-types/prop-types.min.js"></script>
<script src="https://unpkg.com/recharts@2.5.0/umd/Recharts.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        'mono-bg': '#1A1A1A', // Dark charcoal/black background
                        'mono-surface': '#2C2C2C', // Slightly lighter dark gray for cards/surfaces
                        'mono-text': '#E0E0E0', // Light gray for primary text
                        'mono-light': '#808080', // Medium gray for secondary text/borders
                        'accent': '#FFD700', // Gold/Amber as the contrasting accent color
                    },
                    fontFamily: {
                        sans: ["Inter", "system-ui", "-apple-system", "BlinkMacSystemFont", "Segoe UI", "sans-serif"],
                        mono: ["Roboto Mono", "monospace"],
                    },
                    borderRadius: {
                        DEFAULT: "0.25rem", // Sharper corners for a modern look
                        'sm': "0.125rem",
                        'md': "0.375rem",
                        'lg': "0.5rem",
                        'xl': "0.75rem",
                        'full': "9999px",
                    },
                    borderWidth: {
                        '1': '1px',
                    }
                },
            },
        };
    </script>
<style type="text/tailwindcss">body {
            @apply font-sans bg-mono-bg text-mono-text antialiased;
        }.flow-pipe {
            @apply absolute bg-mono-light opacity-50 transition-all duration-300 ease-out;
        }
        .flow-pipe.active {
            @apply bg-accent opacity-100;
        }
        .flow-pipe.vertical {
            @apply w-[2px] h-1/2;
        }
        .flow-pipe.horizontal {
            @apply h-[2px] w-1/2;
        }
        .flow-pipe.arrow-end::after {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            border-style: solid;
            @apply opacity-0 transition-opacity duration-300 ease-out;
        }
        .flow-pipe.arrow-end.active::after {
             @apply opacity-100;
        }
        .flow-pipe.arrow-down::after {
            border-width: 6px 4px 0 4px;border-color: var(--tw-bg-accent) transparent transparent transparent;
            left: 50%;
            bottom: -6px;transform: translateX(-50%);
        }
        .flow-pipe.arrow-up::after {
            border-width: 0 4px 6px 4px;border-color: transparent transparent var(--tw-bg-accent) transparent;
            left: 50%;
            top: -6px;transform: translateX(-50%);
        }
        .flow-pipe.arrow-right::after {
            border-width: 4px 0 4px 6px;border-color: transparent transparent transparent var(--tw-bg-accent);
            top: 50%;
            right: -6px;transform: translateY(-50%);
        }
        .flow-pipe.arrow-left::after {
            border-width: 4px 6px 4px 0;border-color: transparent var(--tw-bg-accent) transparent transparent;
            top: 50%;
            left: -6px;transform: translateY(-50%);
        }
    </style>
</head>
<body class="font-sans bg-mono-bg text-mono-text antialiased">
    <div class="w-full h-screen p-6 overflow-auto">
        <div class="flex-1 flex flex-col w-full max-w-[1600px] mx-auto relative z-10 space-y-6 px-6">
            
            <!-- MAIN GAME BOARD (Sketch Implementation) -->
            <div class="w-full bg-mono-surface/40 backdrop-blur-md border border-mono-light/10 rounded-2xl p-8 shadow-2xl flex items-stretch justify-between gap-0 relative overflow-hidden">
                
                <!-- 1. LEFT NODE: WHOLESALER -->
                <div class="w-56 bg-mono-surface border border-mono-light/20 rounded-xl flex flex-col shadow-xl relative z-20 group">
                    <div class="p-4 border-b border-mono-light/10 bg-mono-bg/30 rounded-t-xl">
                        <h3 class="text-mono-text text-sm uppercase tracking-widest font-bold text-center">Wholesaler</h3>
                    </div>
                    <div class="flex-1 flex items-center justify-center p-4 relative">
                         <!-- Faint background icon -->
                         <span class="material-symbols-outlined text-9xl text-mono-light/5 absolute opacity-[0.03]">warehouse</span>
                    </div>
                    <!-- Incoming Order Box (Bottom) -->
                    <div class="p-4 bg-mono-bg/50 rounded-b-xl border-t border-mono-light/10">
                        <div class="bg-mono-surface h-16 border border-dashed border-accent/40 p-3 rounded-lg text-center relative">
                            <span class="absolute -top-2.5 left-1/2 -translate-x-1/2 bg-mono-surface px-2 text-[10px] text-accent uppercase tracking-wider">Incoming Order</span>
                            <div class="font-sans text-2xl font-bold text-white">30</div>
                        </div>
                    </div>
                </div>

                <!-- PIPE SECTION 1: Wholesaler -> Retailer -->
                <div class="flex-1 flex flex-col justify-between py-4 relative min-w-[200px]">
                    
                    <!-- Top Pipe: Deliveries (Rightward) -->
                    <div class="relative h-16 w-full flex items-center">
                        <!-- Pipe Background -->
                        <div class="absolute inset-x-0 top-1/2 -translate-y-1/2 h-8 bg-mono-light/20 rounded-none">
                            <div class="absolute inset-0 bg-[linear-gradient(90deg,transparent_0%,rgba(16,185,129,0.1)_50%,transparent_100%)] animate-[slideRight_3s_linear_infinite]"></div>
                        </div>

                        <!-- Delay Boxes (Sitting on pipe) -->
                        <div class="absolute w-full flex justify-evenly px-4 z-10 top-0 -mt-2.5">
                             <!-- Week 1 -->
                             <div class="bg-mono-surface border border-green-500/30 p-2 rounded shadow-lg transform hover:scale-110 transition-transform">
                                <div class="text-[10px] text-mono-text uppercase text-center mb-1">Week 1</div>
                                <div class="bg-green-500/10 px-3 py-1 rounded border border-green-500/20 text-green-400 font-sans font-bold text-center">20</div>
                            </div>
                             <!-- Week 2 -->
                             <div class="bg-mono-surface border border-green-500/30 p-2 rounded shadow-lg transform hover:scale-110 transition-transform">
                                <div class="text-[10px] text-mono-text uppercase text-center mb-1">Week 2</div>
                                <div class="bg-green-500/10 px-3 py-1 rounded border border-green-500/20 text-green-400 font-sans font-bold text-center">30</div>
                            </div>
                        </div>
                    </div>

                    <!-- Bottom Pipe: Orders (Leftward) -->
                    <div class="relative h-16 w-full flex items-center">
                        <!-- Pipe Background -->
                        <div class="absolute inset-x-0 top-1/2 -translate-y-1/2 h-8 bg-mono-light/20 rounded-none">
                             <div class="absolute inset-0 bg-mono-light/5"></div>
                        </div>
                    </div>
                </div>

                <!-- 2. CENTER NODE: INVENTORY (RETAILER) -->
                <div class="w-72 bg-mono-surface border-2 border-accent rounded-2xl flex flex-col shadow-[0_0_40px_rgba(0,0,0,0.3)] relative z-30 transform hover:-translate-y-1 transition-transform duration-300">
                    
                    <!-- Inventory Display -->
                    <div class="flex-1 flex flex-col items-center justify-center p-6 border-b border-mono-light/10">
                        <h3 class="text-mono-light text-sm uppercase tracking-widest mb-2">Current Inventory</h3>
                        <div class="text-8xl font-sans font-bold text-white tracking-tighter drop-shadow-lg">50</div>
                    </div>

                    <!-- Place Order Section (Integrated) -->
                    <div class="p-5 bg-mono-bg/40 rounded-b-2xl">
                        <label class="block text-xs text-accent uppercase font-bold tracking-wider mb-3 text-center">Place Order for Next Week</label>
                        <form class="flex items-stretch shadow-lg rounded-lg overflow-hidden border border-accent/30 group-focus-within:border-accent transition-colors">
                            <!-- Numeric Stepper -->
                            <div class="relative flex-1 bg-mono-bg">
                                <input type="number" value="30" 
                                    class="w-full h-12 bg-transparent text-center font-sans text-xl text-white border-0 focus:ring-0 p-0 z-10 relative" 
                                />
                                <!-- Custom Arrows (Visual Only for mockup) -->
                                <div class="absolute right-2 top-1/2 -translate-y-1/2 flex flex-col opacity-50 hover:opacity-100 cursor-pointer">
                                    <span class="material-symbols-outlined text-xs hover:text-white">keyboard_arrow_up</span>
                                    <span class="material-symbols-outlined text-xs hover:text-white">keyboard_arrow_down</span>
                                </div>
                            </div>
                            <!-- Submit Button -->
                                                        <button type="button" class="bg-accent hover:bg-yellow-500 text-mono-bg font-bold px-6 py-2 flex items-center transition-colors">   
                                                            <span class="material-symbols-outlined">send</span>                                                                             
                                                        </button>                                           
                                                    </form>                                                 
                                                </div>                                                      
                                            </div>
                <!-- PIPE SECTION 2: Retailer -> Customer -->
                <div class="flex-1 flex flex-col justify-between py-4 relative min-w-[200px]">
                     <!-- Top Pipe: Deliveries (Rightward) -->
                     <div class="relative h-16 w-full flex items-center">
                        <!-- Pipe Background -->
                        <div class="absolute inset-x-0 top-1/2 -translate-y-1/2 h-8 bg-mono-light/20 rounded-none">
                             <div class="absolute inset-0 bg-[linear-gradient(90deg,transparent_0%,rgba(16,185,129,0.1)_50%,transparent_100%)] animate-[slideRight_3s_linear_infinite_0.5s]"></div>
                        </div>

                        <!-- Delay Boxes (Deliveries to Customer) -->
                        <div class="absolute w-full flex justify-evenly px-4 z-10 top-0 -mt-2.5">
                            <!-- Week 1 -->
                             <div class="bg-mono-surface border border-accent/30 p-2 rounded shadow-lg transform hover:scale-110 transition-transform">
                                <div class="text-[10px] text-mono-text uppercase text-center mb-1">Week 1</div>
                                <div class="bg-accent/10 px-3 py-1 rounded border border-accent/20 text-accent font-sans font-bold text-center">25</div>
                            </div>
                            <!-- Week 2 -->
                             <div class="bg-mono-surface border border-accent/30 p-2 rounded shadow-lg transform hover:scale-110 transition-transform">
                                <div class="text-[10px] text-mono-text uppercase text-center mb-1">Week 2</div>
                                <div class="bg-accent/10 px-3 py-1 rounded border border-accent/20 text-accent font-sans font-bold text-center">20</div>
                            </div>
                       </div>
                    </div>

                    <!-- Bottom Pipe: Demand (Leftward) -->
                    <div class="relative h-16 w-full flex items-center">
                         <!-- Pipe Background -->
                         <div class="absolute inset-x-0 top-1/2 -translate-y-1/2 h-8 bg-mono-light/20 rounded-none">
                            <div class="absolute inset-0 bg-mono-light/5"></div>
                        </div>
                    </div>
                </div>

                <!-- 3. RIGHT NODE: CUSTOMERS -->
                <div class="w-56 bg-mono-surface border border-mono-light/20 rounded-xl flex flex-col shadow-xl relative z-20">
                    <div class="p-4 border-b h-16  border-mono-light/10 bg-mono-bg/30 rounded-t-xl">
                        <h3 class="text-mono-text text-sm uppercase tracking-widest font-bold text-center">Customers</h3>
                    </div>
                    <div class="flex-1 flex flex-col items-center justify-center p-4 space-y-2">
                        <!-- Stick Figures (Icons) -->
                        <div class="flex -space-x-2">
                            <span class="material-symbols-outlined text-4xl text-mono-light">person</span>
                            <span class="material-symbols-outlined text-4xl text-mono-light/80">person</span>
                            <span class="material-symbols-outlined text-4xl text-mono-light/60">person</span>
                        </div>
                        <span class="text-xs text-mono-light">Market Demand</span>
                    </div>
                    <!-- Demand Box (Bottom) -->
                    <div class="p-4 bg-mono-bg/50 rounded-b-xl border-t border-mono-light/10">
                        <div class="bg-mono-surface border border-red-500/30 p-3 rounded-lg text-center relative">
                            <span class="absolute -top-2.5 left-1/2 -translate-x-1/2 bg-mono-surface px-2 text-[10px] text-red-400 uppercase tracking-wider">Demand</span>
                            <div class="font-sans text-2xl font-bold text-white">20</div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Animation Styles -->
            <style>
                @keyframes slideRight {
                    0% { transform: translateX(-100%); opacity: 0; }
                    50% { opacity: 1; }
                    100% { transform: translateX(100%); opacity: 0; }
                }
                @keyframes slideLeft {
                    0% { transform: translateX(100%); opacity: 0; }
                    50% { opacity: 1; }
                    100% { transform: translateX(-100%); opacity: 0; }
                }
                @keyframes extendLeft {
                    0% { width: 0; opacity: 0.5; }
                    100% { width: 100%; opacity: 0; }
                }
            </style>

            <!-- Charts Container -->
            <div id="charts-root" class="w-full flex-1 min-h-[320px] mt-8 mb-8"></div>
        </div>
    </div>

    <script type="text/babel">
        const { LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, AreaChart, Area } = Recharts;

        // Mock Data for Beer Game (Retailer Perspective - Customer Demand Spikes)
        const data = [
            { week: 'W1', orders: 12, inventory: 40, cost: 60 },
            { week: 'W2', orders: 15, inventory: 35, cost: 130 },
            { week: 'W3', orders: 25, inventory: 25, cost: 210 },
            { week: 'W4', orders: 40, inventory: 5, cost: 320 },
            { week: 'W5', orders: 35, inventory: -10, cost: 480 },
            { week: 'W6', orders: 30, inventory: -25, cost: 700 },
            { week: 'W7', orders: 20, inventory: -15, cost: 850 },
            { week: 'W8', orders: 15, inventory: 0, cost: 950 },
            { week: 'W9', orders: 12, inventory: 10, cost: 1000 },
            { week: 'W10', orders: 12, inventory: 15, cost: 1050 },
        ];

        const CustomTooltip = ({ active, payload, label }) => {
            if (active && payload && payload.length) {
                return (
                    <div className="bg-mono-surface border border-mono-light/20 p-3 rounded shadow-xl">
                        <p className="text-mono-text font-bold mb-1">{label}</p>
                        {payload.map((entry, index) => (
                            <p key={index} style={{ color: entry.color }} className="text-sm">
                                {entry.name}: {entry.value}
                            </p>
                        ))}
                    </div>
                );
            }
            return null;
        };

        const DashboardCharts = () => {
            return (
                <div className="grid grid-cols-2 gap-6 w-full h-full">
                    {/* Orders vs Inventory Chart */}
                    <div className="bg-mono-surface p-4 rounded-DEFAULT border border-mono-light/20 shadow-lg flex flex-col h-80">
                        <h3 className="font-semibold mb-4 text-mono-text">Orders vs. Inventory</h3>
                        <div className="flex-1 w-full bg-accent/5 border border-accent/10 rounded overflow-hidden">
                            <ResponsiveContainer width="100%" height="100%">
                                <LineChart data={data} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>
                                    <CartesianGrid strokeDasharray="3 3" stroke="#404040" vertical={false} />
                                    <XAxis dataKey="week" stroke="#808080" tick={{fill: '#808080'}} tickLine={false} axisLine={{stroke: '#404040'}} />
                                    <YAxis stroke="#808080" tick={{fill: '#808080'}} tickLine={false} axisLine={{stroke: '#404040'}} />
                                    <Tooltip content={<CustomTooltip />} />
                                    <Legend verticalAlign="top" height={36} />
                                    <Line type="monotone" dataKey="orders" name="Orders" stroke="#E0E0E0" strokeWidth={2} dot={{r: 3, fill: '#E0E0E0'}} activeDot={{r: 5}} />
                                    <Line type="monotone" dataKey="inventory" name="Inventory" stroke="#FFD700" strokeWidth={3} dot={{r: 3, fill: '#FFD700'}} activeDot={{r: 6}} />
                                </LineChart>
                            </ResponsiveContainer>
                        </div>
                    </div>

                    {/* Cost Accumulation Chart */}
                    <div className="bg-mono-surface p-4 rounded-DEFAULT border border-mono-light/20 shadow-lg flex flex-col h-80">
                        <h3 className="font-semibold mb-4 text-mono-text">Cost Accumulation</h3>
                        <div className="flex-1 w-full bg-accent/5 border border-accent/10 rounded overflow-hidden">
                            <ResponsiveContainer width="100%" height="100%">
                                <AreaChart data={data} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>
                                    <defs>
                                        <linearGradient id="colorCostRetailer" x1="0" y1="0" x2="0" y2="1">
                                            <stop offset="5%" stopColor="#FFD700" stopOpacity={0.8}/>
                                            <stop offset="95%" stopColor="#FFD700" stopOpacity={0}/>
                                        </linearGradient>
                                    </defs>
                                    <CartesianGrid strokeDasharray="3 3" stroke="#404040" vertical={false} />
                                    <XAxis dataKey="week" stroke="#808080" tick={{fill: '#808080'}} tickLine={false} axisLine={{stroke: '#404040'}} />
                                    <YAxis stroke="#808080" tick={{fill: '#808080'}} tickLine={false} axisLine={{stroke: '#404040'}} />
                                    <Tooltip content={<CustomTooltip />} />
                                    <Area type="monotone" dataKey="cost" name="Total Cost ($)" stroke="#FFD700" fillOpacity={1} fill="url(#colorCostRetailer)" />
                                </AreaChart>
                            </ResponsiveContainer>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('charts-root'));
        root.render(<DashboardCharts />);
    </script>
</body></html>