<!DOCTYPE html>
<html class="" lang="en"><head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Beer Game - Factory Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>

<!-- React & Recharts Dependencies -->
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/prop-types/prop-types.min.js"></script>
<script src="https://unpkg.com/recharts@2.5.0/umd/Recharts.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        'mono-bg': '#1A1A1A',
                        'mono-surface': '#2C2C2C',
                        'mono-text': '#E0E0E0',
                        'mono-light': '#808080',
                        'accent': '#F97316', // Orange for Factory
                    },
                    fontFamily: {
                        sans: ["Inter", "system-ui", "-apple-system", "BlinkMacSystemFont", "Segoe UI", "sans-serif"],
                        mono: ["Roboto Mono", "monospace"],
                    },
                    borderRadius: {
                        DEFAULT: "0.25rem",
                        'sm': "0.125rem",
                        'md': "0.375rem",
                        'lg': "0.5rem",
                        'xl': "0.75rem",
                        'full': "9999px",
                    },
                    borderWidth: {
                        '1': '1px',
                    }
                },
            },
        };
    </script>
<style type="text/tailwindcss">body {
            @apply font-sans bg-mono-bg text-mono-text antialiased;
        }.flow-pipe {
            @apply absolute bg-mono-light opacity-50 transition-all duration-300 ease-out;
        }
        .flow-pipe.active {
            @apply bg-accent opacity-100;
        }
        .flow-pipe.vertical {
            @apply w-[2px] h-1/2;
        }
        .flow-pipe.horizontal {
            @apply h-[2px] w-1/2;
        }
        .flow-pipe.arrow-end::after {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            border-style: solid;
            @apply opacity-0 transition-opacity duration-300 ease-out;
        }
        .flow-pipe.arrow-end.active::after {
             @apply opacity-100;
        }
        .flow-pipe.arrow-down::after {
            border-width: 6px 4px 0 4px;border-color: var(--tw-bg-accent) transparent transparent transparent;
            left: 50%;
            bottom: -6px;transform: translateX(-50%);
        }
        .flow-pipe.arrow-up::after {
            border-width: 0 4px 6px 4px;border-color: transparent transparent var(--tw-bg-accent) transparent;
            left: 50%;
            top: -6px;transform: translateX(-50%);
        }
        .flow-pipe.arrow-right::after {
            border-width: 4px 0 4px 6px;border-color: transparent transparent transparent var(--tw-bg-accent);
            top: 50%;
            right: -6px;transform: translateY(-50%);
        }
        .flow-pipe.arrow-left::after {
            border-width: 4px 6px 4px 0;border-color: transparent var(--tw-bg-accent) transparent transparent;
            top: 50%;
            left: -6px;transform: translateY(-50%);
        }
    </style>
</head>
<body class="font-sans bg-mono-bg text-mono-text antialiased">
    <div class="w-full h-screen p-6 overflow-auto">
        <div class="max-w-7xl mx-auto h-full flex flex-col">
        <!-- Production Facility (Top Section) -->
        <div class="relative flex justify-center w-full mb-4">
        <div class="flex items-center justify-center w-full max-w-3xl">
        <div class="flex flex-col items-center">
        <p class="text-xs text-mono-light mb-2">Production Facility</p>
        <div class="relative bg-mono-surface/50 border-2 border-accent/40 rounded-md p-4 w-80">
        <div class="flex space-x-3 justify-center">
        <div class="w-20 h-14 bg-mono-surface rounded-DEFAULT border-1 border-mono-light/20 flex flex-col items-center justify-center">
        <span class="text-xs text-mono-light">Week 1</span>
        <span class="font-bold text-lg text-mono-text">30</span>
        </div>
        <div class="text-2xl text-accent flex items-center">â†’</div>
        <div class="w-20 h-14 bg-mono-surface rounded-DEFAULT border-1 border-mono-light/20 flex flex-col items-center justify-center">
        <span class="text-xs text-mono-light">Week 2</span>
        <span class="font-bold text-lg text-mono-text">30</span>
        </div>
        </div>
        <div class="flow-pipe vertical active arrow-down h-12 absolute -bottom-12 left-1/2 transform -translate-x-1/2"></div>
        </div>
        </div>
        </div>
        </div>

        <!-- Main Inventory Section -->
        <div class="relative flex items-center justify-between pb-8 pt-8 w-full">
        <div class="absolute inset-x-0 top-1/2 h-[2px] bg-mono-light/30 -translate-y-1/2"></div>
        <div class="flex-1 flex justify-start pl-8 pr-12">
        <div class="relative bg-mono-surface border-1 border-mono-light/20 rounded-DEFAULT p-3 text-center w-40 flex flex-col justify-center items-center z-10">
        <p class="font-semibold text-accent text-sm">Outgoing delivery distributor</p>
        <p class="text-3xl font-bold text-mono-text">20</p>
        <div class="flow-pipe horizontal w-20 active arrow-right absolute top-1/2 -right-20 transform -translate-y-1/2"></div>
        </div>
        </div>
        <div class="flex flex-col items-center flex-shrink-0 z-20">
        <div class="relative w-56 h-40 flex flex-col items-center justify-center bg-mono-surface border-2 border-accent rounded-md shadow-xl">
        <span class="text-lg text-mono-light">Inventory</span>
        <p class="text-7xl font-bold text-accent">60</p>
        </div>
        </div>
        <div class="flex-1 flex justify-end pr-8 pl-12">
        <div class="relative bg-mono-surface border-1 border-mono-light/20 rounded-DEFAULT p-3 text-center w-40 flex flex-col justify-center items-center z-10">
        <p class="font-semibold text-accent text-sm">Incoming order distributor</p>
        <p class="text-3xl font-bold text-mono-text">20</p>
        <div class="flow-pipe horizontal w-20 active arrow-left absolute top-1/2 -left-20 transform -translate-y-1/2"></div>
        </div>
        </div>
        </div>

        <!-- Bottom Pipeline Section -->
        <div class="relative flex justify-center w-full mt-4 pb-8">
        <div class="absolute inset-x-0 top-1/2 h-[2px] bg-mono-light/30 -translate-y-1/2"></div>
        <div class="flex items-center justify-center w-full max-w-3xl z-10">
        <div class="flex flex-col items-center">
        <div class="flow-pipe vertical active arrow-up h-8 mb-2"></div>
        <p class="text-xs text-mono-light mb-1">Outgoing delivery pipeline</p>
        <div class="flex space-x-2">
        <div class="w-16 h-12 bg-mono-surface rounded-DEFAULT border-1 border-mono-light/20 flex flex-col items-center justify-center">
        <span class="text-xs text-mono-light">Week 1</span>
        <span class="font-bold text-lg text-mono-text">20</span>
        </div>
        <div class="w-16 h-12 bg-mono-surface rounded-DEFAULT border-1 border-mono-light/20 flex flex-col items-center justify-center">
        <span class="text-xs text-mono-light">Week 2</span>
        <span class="font-bold text-lg text-mono-text">15</span>
        </div>
        </div>
        </div>
        </div>
        </div>

        <!-- Order Input -->
        <div class="w-full flex justify-center mt-4 z-30">
        <form class="flex items-center space-x-2">
        <label class="text-sm font-medium text-mono-text" for="order-input">Production Order:</label>
        <input class="w-20 bg-mono-surface border-mono-light/20 rounded-DEFAULT text-center focus:ring-accent focus:border-accent" id="order-input" type="number" value="30"/>
        <button class="bg-accent text-mono-bg px-4 py-2 rounded-DEFAULT font-semibold hover:bg-orange-600 transition-colors flex items-center" type="submit">
                                        Submit
                                        <span class="material-symbols-outlined text-base ml-1">send</span>
        </button>
        </form>
        </div>

         <!-- Charts Container -->
        <div id="charts-root" class="w-full flex-1 min-h-[320px] mt-8 mb-8"></div>
        </div>
    </div>

     <script type="text/babel">
        const { LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, AreaChart, Area } = Recharts;

        // Mock Data for Beer Game (Factory Perspective - delayed reactions)
        const data = [
            { week: 'W1', orders: 20, inventory: 50, cost: 100 },
            { week: 'W2', orders: 20, inventory: 60, cost: 220 },
            { week: 'W3', orders: 25, inventory: 65, cost: 350 },
            { week: 'W4', orders: 30, inventory: 60, cost: 490 },
            { week: 'W5', orders: 40, inventory: 50, cost: 650 },
            { week: 'W6', orders: 55, inventory: 30, cost: 850 },
            { week: 'W7', orders: 60, inventory: 10, cost: 1100 },
            { week: 'W8', orders: 45, inventory: -5, cost: 1400 },
            { week: 'W9', orders: 30, inventory: 5, cost: 1600 },
            { week: 'W10', orders: 25, inventory: 20, cost: 1750 },
        ];

        const CustomTooltip = ({ active, payload, label }) => {
            if (active && payload && payload.length) {
                return (
                    <div className="bg-mono-surface border border-mono-light/20 p-3 rounded shadow-xl">
                        <p className="text-mono-text font-bold mb-1">{label}</p>
                        {payload.map((entry, index) => (
                            <p key={index} style={{ color: entry.color }} className="text-sm">
                                {entry.name}: {entry.value}
                            </p>
                        ))}
                    </div>
                );
            }
            return null;
        };

        const DashboardCharts = () => {
            return (
                <div className="grid grid-cols-2 gap-6 w-full h-full">
                    {/* Production vs Inventory Chart */}
                    <div className="bg-mono-surface p-4 rounded-DEFAULT border border-mono-light/20 shadow-lg flex flex-col h-80">
                        <h3 className="font-semibold mb-4 text-mono-text">Production vs. Inventory</h3>
                        <div className="flex-1 w-full bg-accent/5 border border-accent/10 rounded overflow-hidden">
                            <ResponsiveContainer width="100%" height="100%">
                                <LineChart data={data} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>
                                    <CartesianGrid strokeDasharray="3 3" stroke="#404040" vertical={false} />
                                    <XAxis dataKey="week" stroke="#808080" tick={{fill: '#808080'}} tickLine={false} axisLine={{stroke: '#404040'}} />
                                    <YAxis stroke="#808080" tick={{fill: '#808080'}} tickLine={false} axisLine={{stroke: '#404040'}} />
                                    <Tooltip content={<CustomTooltip />} />
                                    <Legend verticalAlign="top" height={36} />
                                    <Line type="monotone" dataKey="orders" name="Production" stroke="#E0E0E0" strokeWidth={2} dot={{r: 3, fill: '#E0E0E0'}} activeDot={{r: 5}} />
                                    <Line type="monotone" dataKey="inventory" name="Inventory" stroke="#F97316" strokeWidth={3} dot={{r: 3, fill: '#F97316'}} activeDot={{r: 6}} />
                                </LineChart>
                            </ResponsiveContainer>
                        </div>
                    </div>

                    {/* Cost Accumulation Chart */}
                    <div className="bg-mono-surface p-4 rounded-DEFAULT border border-mono-light/20 shadow-lg flex flex-col h-80">
                        <h3 className="font-semibold mb-4 text-mono-text">Cost Accumulation</h3>
                        <div className="flex-1 w-full bg-accent/5 border border-accent/10 rounded overflow-hidden">
                            <ResponsiveContainer width="100%" height="100%">
                                <AreaChart data={data} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>
                                    <defs>
                                        <linearGradient id="colorCostFactory" x1="0" y1="0" x2="0" y2="1">
                                            <stop offset="5%" stopColor="#F97316" stopOpacity={0.8}/>
                                            <stop offset="95%" stopColor="#F97316" stopOpacity={0}/>
                                        </linearGradient>
                                    </defs>
                                    <CartesianGrid strokeDasharray="3 3" stroke="#404040" vertical={false} />
                                    <XAxis dataKey="week" stroke="#808080" tick={{fill: '#808080'}} tickLine={false} axisLine={{stroke: '#404040'}} />
                                    <YAxis stroke="#808080" tick={{fill: '#808080'}} tickLine={false} axisLine={{stroke: '#404040'}} />
                                    <Tooltip content={<CustomTooltip />} />
                                    <Area type="monotone" dataKey="cost" name="Total Cost ($)" stroke="#F97316" fillOpacity={1} fill="url(#colorCostFactory)" />
                                </AreaChart>
                            </ResponsiveContainer>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('charts-root'));
        root.render(<DashboardCharts />);
    </script>
</body></html>